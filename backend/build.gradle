plugins {
	id 'com.sourcemuse.mongo' version '1.0.0'
}

apply plugin: 'java-library'
apply plugin: 'application'
apply plugin: 'mongo'

mainClassName = "com.recipeshare.Server"


mongo {
	port 8123
	logging 'console'
}

repositories {
	jcenter()
	mavenCentral()
}

dependencies {
	compile 'com.sparkjava:spark-core:2.3'
	compile 'com.google.code.gson:gson:2.2.4'
	compile 'org.mongodb:mongodb-driver:3.4.2'
}

run.doFirst {
	startMongoDb.execute()

	addShutdownHook {
		println("Shutting Down MongoDB");
		stopMongoDb.execute()
	}
}
