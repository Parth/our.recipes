plugins {
	id 'com.sourcemuse.mongo' version '1.0.0'
}

apply plugin: 'java-library'
apply plugin: 'application'
apply plugin: 'mongo'

mainClassName = "com.recipeshare.Server"


mongo {
	port 8123
	logging 'console'
}

repositories {
	jcenter()
	mavenCentral()
}

dependencies {
	compile 'com.sparkjava:spark-core:2.3'
	compile group: 'org.json', name: 'json', version: '20090211'
}

run.doFirst {
	startMongoDb.execute()

	addShutdownHook {
		println("Shutting Down MongoDB");
		stopMongoDb.execute()
	}
}
